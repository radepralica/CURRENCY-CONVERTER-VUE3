<template>
  <div class="container glavni">
    <label
      >1 <span style="color: green">{{ codesOne }} = </span> {{ rate }}
      <span style="color: red">{{ codesTwo }}</span></label
    >

    <form>
      <div class="container div-shad">
        <div class="row">
          <div class="col-6">
            <select
              class="form-select form-select-lg mb-3 sel-from"
              name=""
              id=""
              v-model="codesOne"
              @change="fetchData"
              @click="clearValues"
            >
              <option value="BAM">ğŸ‡§ğŸ‡¦ BAM</option>
              <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
              <option value="EUR">ğŸ‡ªğŸ‡º EUR</option>
              <option value="RSD">ğŸ‡·ğŸ‡¸ RSD</option>
              <option value="HRK">ğŸ‡­ğŸ‡· HRK</option>
              <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
              <option value="ARS">ğŸ‡¦ğŸ‡· ARS</option>
              <option value="AUD">ğŸ‡¦ğŸ‡º AUD</option>
              <option value="BGN">ğŸ‡§ğŸ‡¬ BGN</option>
              <option value="BRL">ğŸ‡§ğŸ‡· BRL</option>
              <option value="BSD">ğŸ‡§ğŸ‡¸ BSD</option>
              <option value="CAD">ğŸ‡¨ğŸ‡¦ CAD</option>
              <option value="CHF">ğŸ‡¨ğŸ‡­ CHF</option>
              <option value="CLP">ğŸ‡¨ğŸ‡± CLP</option>
              <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
              <option value="COP">ğŸ‡¨ğŸ‡´ COP</option>
              <option value="CZK">ğŸ‡¨ğŸ‡¿ CZK</option>
              <option value="DKK">ğŸ‡©ğŸ‡° DKK</option>
              <option value="DOP">ğŸ‡©ğŸ‡´ DOP</option>
              <option value="EGP">ğŸ‡ªğŸ‡¬ EGP</option>
              <option value="FJD">ğŸ‡«ğŸ‡¯ FJD</option>
              <option value="GBP">ğŸ‡¬ğŸ‡§ GBP</option>
              <option value="GTQ">ğŸ‡¬ğŸ‡¹ GTQ</option>
              <option value="HKD">ğŸ‡­ğŸ‡° HKD</option>
              <option value="HUF">ğŸ‡­ğŸ‡º HUF</option>
              <option value="IDR">ğŸ‡®ğŸ‡© IDR</option>
              <option value="ILS">ğŸ‡®ğŸ‡± ILS</option>
              <option value="INR">ğŸ‡®ğŸ‡³ INR</option>
              <option value="ISK">ğŸ‡®ğŸ‡¸ ISK</option>
              <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
              <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
              <option value="KZT">ğŸ‡°ğŸ‡¿ KZT</option>
              <option value="MXN">ğŸ‡²ğŸ‡½ MXN</option>
              <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
              <option value="NOK">ğŸ‡³ğŸ‡´ NOK</option>
              <option value="NZD">ğŸ‡³ğŸ‡¿ NZD</option>
              <option value="PAB">ğŸ‡µğŸ‡¦ PAB</option>
              <option value="PEN">ğŸ‡µğŸ‡ª PEN</option>
              <option value="PHP">ğŸ‡µğŸ‡­ PHP</option>
              <option value="PKR">ğŸ‡µğŸ‡° PKR</option>
              <option value="PLN">ğŸ‡µğŸ‡° PLN</option>
              <option value="PYG">ğŸ‡µğŸ‡¾ PYG</option>
              <option value="RON">ğŸ‡·ğŸ‡´ RON</option>
              <option value="RUB">ğŸ‡·ğŸ‡º RUB</option>
              <option value="SAR">ğŸ‡¸ğŸ‡¦ SAR</option>
              <option value="SEK">ğŸ‡¸ğŸ‡ª SEK</option>
              <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
              <option value="THB">ğŸ‡¹ğŸ‡­ THB</option>
              <option value="TRY">ğŸ‡¹ğŸ‡· TRY</option>
              <option value="TWD">ğŸ‡¹ğŸ‡¼ TWD</option>
              <option value="UAH">ğŸ‡ºğŸ‡¦ UAH</option>
              <option value="UYU">ğŸ‡ºğŸ‡¾ UYU</option>
              <option value="VND">ğŸ‡»ğŸ‡³ VND</option>
              <option value="ZAR">ğŸ‡¿ğŸ‡¦ ZAR</option>
            </select>
            <button
              @click.prevent="switchCodes"
              type="button"
              class="btn btn-danger"
            >
              Switch
            </button>
            <select
              class="form-select form-select-lg mb-3 sel-to"
              name=""
              id=""
              v-model="codesTwo"
              @change="fetchData"
              @click="clearValues"
            >
              <option value="BAM">ğŸ‡§ğŸ‡¦ BAM</option>
              <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
              <option value="EUR">ğŸ‡ªğŸ‡º EUR</option>
              <option value="RSD">ğŸ‡·ğŸ‡¸ RSD</option>
              <option value="HRK">ğŸ‡­ğŸ‡· HRK</option>
              <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
              <option value="ARS">ğŸ‡¦ğŸ‡· ARS</option>
              <option value="AUD">ğŸ‡¦ğŸ‡º AUD</option>
              <option value="BGN">ğŸ‡§ğŸ‡¬ BGN</option>
              <option value="BRL">ğŸ‡§ğŸ‡· BRL</option>
              <option value="BSD">ğŸ‡§ğŸ‡¸ BSD</option>
              <option value="CAD">ğŸ‡¨ğŸ‡¦ CAD</option>
              <option value="CHF">ğŸ‡¨ğŸ‡­ CHF</option>
              <option value="CLP">ğŸ‡¨ğŸ‡± CLP</option>
              <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
              <option value="COP">ğŸ‡¨ğŸ‡´ COP</option>
              <option value="CZK">ğŸ‡¨ğŸ‡¿ CZK</option>
              <option value="DKK">ğŸ‡©ğŸ‡° DKK</option>
              <option value="DOP">ğŸ‡©ğŸ‡´ DOP</option>
              <option value="EGP">ğŸ‡ªğŸ‡¬ EGP</option>
              <option value="FJD">ğŸ‡«ğŸ‡¯ FJD</option>
              <option value="GBP">ğŸ‡¬ğŸ‡§ GBP</option>
              <option value="GTQ">ğŸ‡¬ğŸ‡¹ GTQ</option>
              <option value="HKD">ğŸ‡­ğŸ‡° HKD</option>
              <option value="HUF">ğŸ‡­ğŸ‡º HUF</option>
              <option value="IDR">ğŸ‡®ğŸ‡© IDR</option>
              <option value="ILS">ğŸ‡®ğŸ‡± ILS</option>
              <option value="INR">ğŸ‡®ğŸ‡³ INR</option>
              <option value="ISK">ğŸ‡®ğŸ‡¸ ISK</option>
              <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
              <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
              <option value="KZT">ğŸ‡°ğŸ‡¿ KZT</option>
              <option value="MXN">ğŸ‡²ğŸ‡½ MXN</option>
              <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
              <option value="NOK">ğŸ‡³ğŸ‡´ NOK</option>
              <option value="NZD">ğŸ‡³ğŸ‡¿ NZD</option>
              <option value="PAB">ğŸ‡µğŸ‡¦ PAB</option>
              <option value="PEN">ğŸ‡µğŸ‡ª PEN</option>
              <option value="PHP">ğŸ‡µğŸ‡­ PHP</option>
              <option value="PKR">ğŸ‡µğŸ‡° PKR</option>
              <option value="PLN">ğŸ‡µğŸ‡° PLN</option>
              <option value="PYG">ğŸ‡µğŸ‡¾ PYG</option>
              <option value="RON">ğŸ‡·ğŸ‡´ RON</option>
              <option value="RUB">ğŸ‡·ğŸ‡º RUB</option>
              <option value="SAR">ğŸ‡¸ğŸ‡¦ SAR</option>
              <option value="SEK">ğŸ‡¸ğŸ‡ª SEK</option>
              <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
              <option value="THB">ğŸ‡¹ğŸ‡­ THB</option>
              <option value="TRY">ğŸ‡¹ğŸ‡· TRY</option>
              <option value="TWD">ğŸ‡¹ğŸ‡¼ TWD</option>
              <option value="UAH">ğŸ‡ºğŸ‡¦ UAH</option>
              <option value="UYU">ğŸ‡ºğŸ‡¾ UYU</option>
              <option value="VND">ğŸ‡»ğŸ‡³ VND</option>
              <option value="ZAR">ğŸ‡¿ğŸ‡¦ ZAR</option>
            </select>
          </div>
          <div class="col-6">
            <input
              class="form-control inp-one"
              type="number"
              v-model="amountOne"
              min="0"
              step="10"
              @input="fetchData"
            />
            <br /><br /><br /><br />
            <input
              class="form-control inp-two"
              type="number"
              v-model="amountTwo"
              min="0"
              step="5"
              @input="fetchData"
            />
          </div>
        </div>
      </div>
    </form>
  </div>
</template>

<script>
export default {
  components: {},
  data() {
    return {
      data: [],
      codesOne: 'USD',
      codesTwo: 'EUR',
      amountOne: '0',
      amountTwo: '0',

      rate: '',
    };
  },

  methods: {
    fetchData() {
      fetch(
        `https://v6.exchangerate-api.com/v6/11656c6fa8f018b5d69fcebe/latest/${this.codesOne}`
      )
        .then((res) => res.json())
        .then((data) => {
          this.data = data;
          this.rate = data.conversion_rates[this.codesTwo];
          this.amountTwo = (this.amountOne * this.rate).toFixed(2);
        });
    },
    switchCodes() {
      const temp = this.codesOne;
      this.codesOne = this.codesTwo;
      this.codesTwo = temp;
      this.amountOne = '0';
      console.log(this.data);
      this.fetchData();
    },
    fetchingData() {
      this.result = (this.amountOne * this.rate).toFixed(2);
      //this.fetchData();
    },
    clearValues() {
      this.amountOne = '0';
      this.result = '0.00';
    },
  },
  mounted() {
    this.fetchData();
  },
};
</script>

<style scoped>
button {
  margin: 1em 0 1em 0;
}
.bshad {
  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
}
.sel-from {
  margin-top: -1em;
}
.div-shad {
  padding-top: 3em;
  height: 18em;
  align-items: center;
  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
  margin-top: 1em;
}
select {
  width: auto;
}
.form-control {
  width: em;
}
.cont {
  width: 12em;
  color: red;
}
.sel-to {
  margin-bottom: 3em;
}
button {
  margin-left: 12em;
}
.inp-one {
  margin-top: -1em;
}
.inp-two {
  margin-bottom: -2em;
}

label {
  font-size: 2em;
}
.but {
  margin-left: -1em;
}

h4 {
  padding-top: 1.2em;
  text-align: justify;
}
img {
  width: 5px;
  height: 7px;
}
.glavni {
  width: auto;
}
</style>
